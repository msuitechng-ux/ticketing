import{d as w,r as g,a as _,b as k,e as s,f as e,u as a,h,w as r,l as f,t as o,g as u,o as S}from"./app-dkNPWVuj.js";import{s as m,a as d}from"./index-p3p8LMzb.js";import{s as p,a as i}from"./index-Dmq8Yyr6.js";import{s as j}from"./index-BjveomDO.js";import{s as D}from"./index-DmkOVvj-.js";import"./index-chFnNFZo.js";import"./index-DwuUCPtR.js";import"./index-C-x3wNAr.js";import"./index-BsCRQRu3.js";import"./index-CqjVa_zo.js";import"./index-CmvzEYPN.js";import"./index-DYg80Iji.js";const C={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},T={class:"bg-white shadow dark:bg-gray-800"},M={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},N={class:"flex items-center justify-between"},V={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},$={class:"mb-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-4"},A={class:"flex items-center justify-between"},L={class:"mt-2 text-3xl font-bold text-gray-900 dark:text-white"},B={class:"flex items-center justify-between"},E={class:"mt-2 text-3xl font-bold text-green-600 dark:text-green-400"},R={class:"flex items-center justify-between"},q={class:"mt-2 text-3xl font-bold text-orange-600 dark:text-orange-400"},z={class:"flex items-center justify-between"},F={class:"mt-2 text-3xl font-bold text-red-600 dark:text-red-400"},I={class:"flex items-center justify-between"},ee=w({__name:"Dashboard",props:{stats:{},recentScans:{},activeCeremonies:{}},setup(n){const y=c=>({Success:"success",Duplicate:"warn",Invalid:"danger","Fraud Attempt":"danger"})[c]||"info",x=g(),v=g([{label:"Logout",icon:"pi pi-sign-out",command:()=>_.post("/logout")}]),b=c=>{x.value.toggle(c)};return(c,t)=>(S(),k("div",C,[s(a(h),{title:"Security Dashboard"}),e("div",T,[e("div",M,[e("div",N,[t[0]||(t[0]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Security Dashboard "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Entry verification and monitoring ")],-1)),s(a(f),{href:"/security/scanner"},{default:r(()=>[s(a(m),{label:"Open Scanner",icon:"pi pi-qrcode",size:"large"})]),_:1}),e("div",null,[s(a(m),{label:"Profile",icon:"pi pi-user",class:"w-full",onClick:b}),s(a(D),{ref_key:"userMenu",ref:x,model:v.value,popup:"",class:"w-56"},null,8,["model"])])])])]),e("div",V,[e("div",$,[s(a(d),{class:"shadow-sm"},{content:r(()=>[e("div",A,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Total Scans Today ",-1)),e("p",L,o(n.stats.today_scans),1)]),t[2]||(t[2]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900"},[e("i",{class:"pi pi-qrcode text-2xl text-blue-600 dark:text-blue-400"})],-1))])]),_:1}),s(a(d),{class:"shadow-sm"},{content:r(()=>[e("div",B,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Successful ",-1)),e("p",E,o(n.stats.today_successful),1)]),t[4]||(t[4]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900"},[e("i",{class:"pi pi-check-circle text-2xl text-green-600 dark:text-green-400"})],-1))])]),_:1}),s(a(d),{class:"shadow-sm"},{content:r(()=>[e("div",R,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Duplicates ",-1)),e("p",q,o(n.stats.today_duplicate),1)]),t[6]||(t[6]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-100 dark:bg-orange-900"},[e("i",{class:"pi pi-exclamation-triangle text-2xl text-orange-600 dark:text-orange-400"})],-1))])]),_:1}),s(a(d),{class:"shadow-sm"},{content:r(()=>[e("div",z,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Fraud Attempts ",-1)),e("p",F,o(n.stats.today_fraud),1)]),t[8]||(t[8]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 dark:bg-red-900"},[e("i",{class:"pi pi-ban text-2xl text-red-600 dark:text-red-400"})],-1))])]),_:1})]),s(a(d),{class:"mb-8 shadow-sm"},{title:r(()=>[...t[9]||(t[9]=[u("Active Ceremonies",-1)])]),content:r(()=>[s(a(p),{value:n.activeCeremonies,stripedRows:""},{empty:r(()=>[...t[10]||(t[10]=[e("div",{class:"py-8 text-center text-gray-500"}," No active ceremonies ",-1)])]),default:r(()=>[s(a(i),{field:"name",header:"Ceremony Name"}),s(a(i),{field:"ceremony_date",header:"Date"},{body:r(({data:l})=>[u(o(new Date(l.ceremony_date).toLocaleString()),1)]),_:1}),s(a(i),{field:"venue",header:"Venue"}),s(a(i),{field:"tickets_count",header:"Total Tickets"})]),_:1},8,["value"])]),_:1}),s(a(d),{class:"shadow-sm"},{title:r(()=>[e("div",I,[t[11]||(t[11]=e("span",null,"Recent Scans",-1)),s(a(f),{href:"/security/entry-logs"},{default:r(()=>[s(a(m),{label:"View All Logs",size:"small",text:""})]),_:1})])]),content:r(()=>[s(a(p),{value:n.recentScans,stripedRows:""},{empty:r(()=>[...t[12]||(t[12]=[e("div",{class:"py-8 text-center text-gray-500"}," No recent scans ",-1)])]),default:r(()=>[s(a(i),{field:"ticket.graduate.student_name",header:"Graduate"}),s(a(i),{field:"ceremony.name",header:"Ceremony"}),s(a(i),{field:"entry_point",header:"Entry Point"}),s(a(i),{field:"verification_status",header:"Status"},{body:r(({data:l})=>[s(a(j),{value:l.verification_status,severity:y(l.verification_status)},null,8,["value","severity"])]),_:1}),s(a(i),{field:"scanned_at",header:"Time"},{body:r(({data:l})=>[u(o(new Date(l.scanned_at).toLocaleTimeString()),1)]),_:1})]),_:1},8,["value"])]),_:1})])]))}});export{ee as default};
