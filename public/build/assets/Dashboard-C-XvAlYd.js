import{d as w,c,a as s,b as t,u as a,h as v,w as d,t as r,l as y,g as m,f as h,o as g}from"./app-BDhL6A7S.js";import{a as n,s as u}from"./index-506mRMkX.js";import{s as f,a as o,b}from"./index-BsjY1maD.js";import"./index-CCHrQ35O.js";import"./index-CM_FHf5l.js";import"./index-DVZg3SfV.js";const _={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},q={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},D={key:0,class:"text-center"},R={key:1,class:"space-y-6"},S={class:"grid gap-6 md:grid-cols-2"},T={class:"mb-4 font-semibold text-gray-900 dark:text-white"},V={class:"space-y-2 text-sm"},A={class:"flex justify-between"},j={class:"font-medium text-gray-900 dark:text-white"},N={class:"flex justify-between"},M={class:"font-medium text-gray-900 dark:text-white"},C={class:"flex justify-between"},P={class:"font-medium text-gray-900 dark:text-white"},$={class:"flex justify-between"},z={class:"font-medium text-gray-900 dark:text-white"},B={class:"rounded-lg bg-gradient-to-br from-blue-50 to-purple-50 p-6 dark:from-blue-900/20 dark:to-purple-900/20"},G={class:"space-y-4"},L={class:"mb-2 flex justify-between text-sm"},Q={class:"font-bold text-gray-900 dark:text-white"},E={class:"mb-2 flex justify-between text-sm"},F={class:"font-bold text-gray-900 dark:text-white"},I={class:"mb-2 flex justify-between text-sm"},U={class:"font-bold text-green-600 dark:text-green-400"},Y={class:"grid gap-6 md:grid-cols-3"},Z={class:"text-center"},W={class:"text-center"},H={class:"text-center"},J={href:"/student/tickets-download-all",download:""},K={class:"flex gap-2"},O=["href"],X={class:"flex items-center justify-between"},lt=w({__name:"Dashboard",props:{graduate:{},ceremony:{},tickets:{},ticketRequests:{},stats:{}},setup(l){const k=x=>({Active:"success",Used:"info",Cancelled:"danger",Redistributed:"warn"})[x]||"info",p=x=>({Pending:"warn",Approved:"success",Denied:"danger",Waitlisted:"info","Partially Approved":"warn"})[x]||"info";return(x,e)=>(g(),c("div",_,[s(a(v),{title:"Student Dashboard"}),e[23]||(e[23]=t("div",{class:"bg-white shadow dark:bg-gray-800"},[t("div",{class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," My Dashboard "),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," View your tickets and ceremony information ")])],-1)),t("div",q,[l.graduate?(g(),c("div",R,[s(a(n),{class:"shadow-sm"},{title:d(()=>[...e[1]||(e[1]=[t("div",{class:"flex items-center gap-3"},[t("i",{class:"pi pi-calendar text-2xl text-blue-600"}),t("span",null,"Your Graduation Ceremony")],-1)])]),content:d(()=>[t("div",S,[t("div",null,[t("h3",T,r(l.ceremony.name),1),t("dl",V,[t("div",A,[e[2]||(e[2]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Date:",-1)),t("dd",j,r(new Date(l.ceremony.ceremony_date).toLocaleString()),1)]),t("div",N,[e[3]||(e[3]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Venue:",-1)),t("dd",M,r(l.ceremony.venue),1)]),t("div",C,[e[4]||(e[4]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Faculty:",-1)),t("dd",P,r(l.graduate.faculty),1)]),t("div",$,[e[5]||(e[5]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Department:",-1)),t("dd",z,r(l.graduate.department),1)])])]),t("div",B,[e[9]||(e[9]=t("h4",{class:"mb-4 font-semibold text-gray-900 dark:text-white"}," Ticket Statistics ",-1)),t("div",G,[t("div",null,[t("div",L,[e[6]||(e[6]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Total Tickets",-1)),t("span",Q,r(l.stats.total_tickets),1)])]),t("div",null,[t("div",E,[e[7]||(e[7]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Tickets Used",-1)),t("span",F,r(l.stats.tickets_used),1)])]),t("div",null,[t("div",I,[e[8]||(e[8]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Available",-1)),t("span",U,r(l.stats.tickets_available),1)])])])])])]),_:1}),t("div",Y,[s(a(n),{class:"shadow-sm"},{content:d(()=>[t("div",Z,[e[10]||(e[10]=t("i",{class:"pi pi-ticket mb-3 text-4xl text-blue-600"},null,-1)),e[11]||(e[11]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," View Tickets ",-1)),e[12]||(e[12]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," View and download your ticket QR codes ",-1)),s(a(y),{href:"/student/tickets"},{default:d(()=>[s(a(u),{label:"View Tickets",class:"w-full"})]),_:1})])]),_:1}),s(a(n),{class:"shadow-sm"},{content:d(()=>[t("div",W,[e[13]||(e[13]=t("i",{class:"pi pi-inbox mb-3 text-4xl text-purple-600"},null,-1)),e[14]||(e[14]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," Request Extra Tickets ",-1)),e[15]||(e[15]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Submit a request for additional tickets ",-1)),s(a(y),{href:"/student/ticket-requests"},{default:d(()=>[s(a(u),{label:"Request Tickets",class:"w-full",disabled:!l.stats.can_request_more},null,8,["disabled"])]),_:1})])]),_:1}),s(a(n),{class:"shadow-sm"},{content:d(()=>[t("div",H,[e[16]||(e[16]=t("i",{class:"pi pi-download mb-3 text-4xl text-green-600"},null,-1)),e[17]||(e[17]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," Download All ",-1)),e[18]||(e[18]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Download all QR codes as ZIP ",-1)),t("a",J,[s(a(u),{label:"Download ZIP",class:"w-full",severity:"success"})])])]),_:1})]),s(a(n),{class:"shadow-sm"},{title:d(()=>[...e[19]||(e[19]=[m("My Tickets",-1)])]),content:d(()=>[s(a(f),{value:l.tickets,stripedRows:""},{empty:d(()=>[...e[20]||(e[20]=[t("div",{class:"py-8 text-center text-gray-500"}," No tickets allocated yet ",-1)])]),default:d(()=>[s(a(o),{field:"ticket_code",header:"Ticket Code"}),s(a(o),{field:"ticket_type",header:"Type"}),s(a(o),{field:"guest_name",header:"Guest Name"},{body:d(({data:i})=>[m(r(i.guest_name||"-"),1)]),_:1}),s(a(o),{field:"status",header:"Status"},{body:d(({data:i})=>[s(a(b),{value:i.status,severity:k(i.status)},null,8,["value","severity"])]),_:1}),s(a(o),{header:"Actions"},{body:d(({data:i})=>[t("div",K,[s(a(y),{href:`/student/tickets/${i.id}`},{default:d(()=>[s(a(u),{label:"View",size:"small",text:""})]),_:1},8,["href"]),i.status==="Active"?(g(),c("a",{key:0,href:`/student/tickets/${i.id}/download-qr`,download:""},[s(a(u),{label:"Download QR",size:"small",severity:"success",text:""})],8,O)):h("",!0)])]),_:1})]),_:1},8,["value"])]),_:1}),s(a(n),{class:"shadow-sm"},{title:d(()=>[t("div",X,[e[21]||(e[21]=t("span",null,"My Ticket Requests",-1)),s(a(y),{href:"/student/ticket-requests"},{default:d(()=>[s(a(u),{label:"View All",size:"small",text:""})]),_:1})])]),content:d(()=>[s(a(f),{value:l.ticketRequests,stripedRows:""},{empty:d(()=>[...e[22]||(e[22]=[t("div",{class:"py-8 text-center text-gray-500"}," No ticket requests yet ",-1)])]),default:d(()=>[s(a(o),{field:"requested_quantity",header:"Requested"}),s(a(o),{field:"approved_quantity",header:"Approved"}),s(a(o),{field:"status",header:"Status"},{body:d(({data:i})=>[s(a(b),{value:i.status,severity:p(i.status)},null,8,["value","severity"])]),_:1}),s(a(o),{field:"created_at",header:"Submitted"},{body:d(({data:i})=>[m(r(new Date(i.created_at).toLocaleDateString()),1)]),_:1}),s(a(o),{field:"reviewed_at",header:"Reviewed"},{body:d(({data:i})=>[m(r(i.reviewed_at?new Date(i.reviewed_at).toLocaleDateString():"-"),1)]),_:1})]),_:1},8,["value"])]),_:1})])):(g(),c("div",D,[s(a(n),{class:"shadow-sm"},{content:d(()=>[...e[0]||(e[0]=[t("div",{class:"py-12"},[t("i",{class:"pi pi-user-plus mb-4 text-6xl text-gray-400"}),t("h3",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-white"}," No Graduate Profile Found "),t("p",{class:"text-gray-600 dark:text-gray-400"}," You haven't been registered for any ceremonies yet. Please contact the registry office. ")],-1)])]),_:1})]))])]))}});export{lt as default};
