import{d as D,r as b,a as R,b as x,e as s,f as t,u as a,h as S,w as i,t as o,l as y,g as m,y as T,o as f}from"./app-dkNPWVuj.js";import{s as n,a as u}from"./index-p3p8LMzb.js";import{s as k,a as r}from"./index-Dmq8Yyr6.js";import{s as v}from"./index-BjveomDO.js";import{s as w}from"./index-DmkOVvj-.js";import"./index-chFnNFZo.js";import"./index-DwuUCPtR.js";import"./index-C-x3wNAr.js";import"./index-BsCRQRu3.js";import"./index-CqjVa_zo.js";import"./index-CmvzEYPN.js";import"./index-DYg80Iji.js";const M={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},V={class:"bg-white shadow dark:bg-gray-800"},j={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},A={class:"mt-4 flex justify-end"},C={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},N={key:0,class:"text-center"},P={key:1,class:"space-y-6"},$={class:"flex items-center gap-3"},L={class:"grid gap-6 md:grid-cols-2"},z={class:"mb-4 font-semibold text-gray-900 dark:text-white"},B={class:"space-y-2 text-sm"},G={class:"flex justify-between"},I={class:"font-medium text-gray-900 dark:text-white"},Q={class:"flex justify-between"},U={class:"font-medium text-gray-900 dark:text-white"},E={class:"flex justify-between"},F={class:"font-medium text-gray-900 dark:text-white"},Y={class:"flex justify-between"},Z={class:"font-medium text-gray-900 dark:text-white"},W={class:"rounded-lg bg-gradient-to-br from-blue-50 to-purple-50 p-6 dark:from-blue-900/20 dark:to-purple-900/20"},H={class:"space-y-4"},J={class:"mb-2 flex justify-between text-sm"},K={class:"font-bold text-gray-900 dark:text-white"},O={class:"mb-2 flex justify-between text-sm"},X={class:"font-bold text-gray-900 dark:text-white"},tt={class:"mb-2 flex justify-between text-sm"},et={class:"font-bold text-green-600 dark:text-green-400"},st={class:"grid gap-6 md:grid-cols-3"},at={class:"text-center"},it={class:"text-center"},lt={class:"text-center"},dt={href:"/student/tickets-download-all",download:""},ot={class:"flex gap-2"},rt=["href"],nt={class:"flex items-center justify-between"},_t=D({__name:"Dashboard",props:{graduate:{},ceremony:{},tickets:{},ticketRequests:{},stats:{}},setup(d){const g=b(),p=b([{label:"Logout",icon:"pi pi-sign-out",command:()=>R.post("/logout")}]),_=c=>{g.value.toggle(c)},h=c=>({Active:"success",Used:"info",Cancelled:"danger",Redistributed:"warn"})[c]||"info",q=c=>({Pending:"warn",Approved:"success",Denied:"danger",Waitlisted:"info","Partially Approved":"warn"})[c]||"info";return(c,e)=>(f(),x("div",M,[s(a(S),{title:"Student Dashboard"}),t("div",V,[t("div",j,[e[0]||(e[0]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," My Dashboard ",-1)),e[1]||(e[1]=t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," View your tickets and ceremony information ",-1)),t("div",A,[s(a(n),{label:"Profile",icon:"pi pi-user",class:"w-full",onClick:_}),s(a(w),{ref_key:"userMenu",ref:g,model:p.value,popup:"",class:"w-56"},null,8,["model"])])])]),t("div",C,[d.graduate?(f(),x("div",P,[s(a(u),{class:"shadow-sm"},{title:i(()=>[t("div",$,[e[3]||(e[3]=t("i",{class:"pi pi-calendar text-2xl text-blue-600"},null,-1)),e[4]||(e[4]=t("span",null,"Your Graduation Ceremony",-1)),s(a(w),{ref_key:"userMenu",ref:g,model:p.value,popup:"",class:"w-56"},null,8,["model"])])]),content:i(()=>[t("div",L,[t("div",null,[t("h3",z,o(d.ceremony.name),1),t("dl",B,[t("div",G,[e[5]||(e[5]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Date:",-1)),t("dd",I,o(new Date(d.ceremony.ceremony_date).toLocaleString()),1)]),t("div",Q,[e[6]||(e[6]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Venue:",-1)),t("dd",U,o(d.ceremony.venue),1)]),t("div",E,[e[7]||(e[7]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Faculty:",-1)),t("dd",F,o(d.graduate.faculty),1)]),t("div",Y,[e[8]||(e[8]=t("dt",{class:"text-gray-600 dark:text-gray-400"},"Department:",-1)),t("dd",Z,o(d.graduate.department),1)])])]),t("div",W,[e[12]||(e[12]=t("h4",{class:"mb-4 font-semibold text-gray-900 dark:text-white"}," Ticket Statistics ",-1)),t("div",H,[t("div",null,[t("div",J,[e[9]||(e[9]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Total Tickets",-1)),t("span",K,o(d.stats.total_tickets),1)])]),t("div",null,[t("div",O,[e[10]||(e[10]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Tickets Used",-1)),t("span",X,o(d.stats.tickets_used),1)])]),t("div",null,[t("div",tt,[e[11]||(e[11]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Available",-1)),t("span",et,o(d.stats.tickets_available),1)])])])])])]),_:1}),t("div",st,[s(a(u),{class:"shadow-sm"},{content:i(()=>[t("div",at,[e[13]||(e[13]=t("i",{class:"pi pi-ticket mb-3 text-4xl text-blue-600"},null,-1)),e[14]||(e[14]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," View Tickets ",-1)),e[15]||(e[15]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," View and download your ticket QR codes ",-1)),s(a(y),{href:"/student/tickets"},{default:i(()=>[s(a(n),{label:"View Tickets",class:"w-full"})]),_:1})])]),_:1}),s(a(u),{class:"shadow-sm"},{content:i(()=>[t("div",it,[e[16]||(e[16]=t("i",{class:"pi pi-inbox mb-3 text-4xl text-purple-600"},null,-1)),e[17]||(e[17]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," Request Extra Tickets ",-1)),e[18]||(e[18]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Submit a request for additional tickets ",-1)),s(a(y),{href:"/student/ticket-requests"},{default:i(()=>[s(a(n),{label:"Request Tickets",class:"w-full",disabled:!d.stats.can_request_more},null,8,["disabled"])]),_:1})])]),_:1}),s(a(u),{class:"shadow-sm"},{content:i(()=>[t("div",lt,[e[19]||(e[19]=t("i",{class:"pi pi-download mb-3 text-4xl text-green-600"},null,-1)),e[20]||(e[20]=t("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," Download All ",-1)),e[21]||(e[21]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Download all QR codes as ZIP ",-1)),t("a",dt,[s(a(n),{label:"Download ZIP",class:"w-full",severity:"success"})])])]),_:1})]),s(a(u),{class:"shadow-sm"},{title:i(()=>[...e[22]||(e[22]=[m("My Tickets",-1)])]),content:i(()=>[s(a(k),{value:d.tickets,stripedRows:""},{empty:i(()=>[...e[23]||(e[23]=[t("div",{class:"py-8 text-center text-gray-500"}," No tickets allocated yet ",-1)])]),default:i(()=>[s(a(r),{field:"ceremony.name",header:"Ceremony"},{body:i(({data:l})=>[m(o(l.ceremony?.name||"-"),1)]),_:1}),s(a(r),{field:"ticket_code",header:"Ticket Code"}),s(a(r),{field:"ticket_type",header:"Type"}),s(a(r),{field:"guest_name",header:"Guest Name"},{body:i(({data:l})=>[m(o(l.guest_name||"-"),1)]),_:1}),s(a(r),{field:"status",header:"Status"},{body:i(({data:l})=>[s(a(v),{value:l.status,severity:h(l.status)},null,8,["value","severity"])]),_:1}),s(a(r),{header:"Actions"},{body:i(({data:l})=>[t("div",ot,[s(a(y),{href:`/student/tickets/${l.id}`},{default:i(()=>[s(a(n),{label:"View",size:"small",text:""})]),_:1},8,["href"]),l.status==="Active"?(f(),x("a",{key:0,href:`/student/tickets/${l.id}/download-qr`},[s(a(n),{label:"Download QR",size:"small",severity:"success",text:""})],8,rt)):T("",!0)])]),_:1})]),_:1},8,["value"])]),_:1}),s(a(u),{class:"shadow-sm"},{title:i(()=>[t("div",nt,[e[24]||(e[24]=t("span",null,"My Ticket Requests",-1)),s(a(y),{href:"/student/ticket-requests"},{default:i(()=>[s(a(n),{label:"View All",size:"small",text:""})]),_:1})])]),content:i(()=>[s(a(k),{value:d.ticketRequests,stripedRows:""},{empty:i(()=>[...e[25]||(e[25]=[t("div",{class:"py-8 text-center text-gray-500"}," No ticket requests yet ",-1)])]),default:i(()=>[s(a(r),{field:"requested_quantity",header:"Requested"}),s(a(r),{field:"approved_quantity",header:"Approved"}),s(a(r),{field:"status",header:"Status"},{body:i(({data:l})=>[s(a(v),{value:l.status,severity:q(l.status)},null,8,["value","severity"])]),_:1}),s(a(r),{field:"created_at",header:"Submitted"},{body:i(({data:l})=>[m(o(new Date(l.created_at).toLocaleDateString()),1)]),_:1}),s(a(r),{field:"reviewed_at",header:"Reviewed"},{body:i(({data:l})=>[m(o(l.reviewed_at?new Date(l.reviewed_at).toLocaleDateString():"-"),1)]),_:1})]),_:1},8,["value"])]),_:1})])):(f(),x("div",N,[s(a(u),{class:"shadow-sm"},{content:i(()=>[...e[2]||(e[2]=[t("div",{class:"py-12"},[t("i",{class:"pi pi-user-plus mb-4 text-6xl text-gray-400"}),t("h3",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-white"}," No Graduate Profile Found "),t("p",{class:"text-gray-600 dark:text-gray-400"}," You haven't been registered for any ceremonies yet. Please contact the registry office. ")],-1)])]),_:1})]))])]))}});export{_t as default};
